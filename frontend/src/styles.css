@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---- Fonts (on conserve @font-face, Tailwind ne les génère pas) ---- */
@font-face {
  font-family: 'Starjout';
  src: url('/assets/fonts/Starjout.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'Starjedi';
  src: url('/assets/fonts/Starjedi.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'Starjhol';
  src: url('/assets/fonts/Starjhol.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'anakinmono';
  src: url('/assets/fonts/anakinmono.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
}

/* ---- Base ---- */
@layer base {
  body { @apply font-pressstart; }
}

/* ---- Composants / Utilitaires custom (via @apply) ---- */
@layer components {
  /* Fond étoiles défilant */
  .starfield {
    @apply absolute top-0 left-0 w-full h-full bg-repeat animate-starfield;
    /* image + compatibilité via propriétés arbitraires */
    @apply [background-image:url('/assets/starfield.png')];
  }

  /* Texte en dégradé (clip + transparent) */
  .gradient-text {
    @apply inline-block bg-clip-text text-transparent;
    /* dégradé exact avec stop multiples (arbitrary property) */
    @apply [background:linear-gradient(to_bottom,_#fff9c4_0%,_#fde047_40%,_#f59e0b_60%,_#f97316_100%)];
    /* Safari old: -webkit-text-fill-color: transparent (optionnel, souvent inutile avec text-transparent) */
    @apply [-webkit-text-fill-color:transparent];
  }

  /* Boutons/sections avec fond dégradé + text-shadow multicalque */
  .gradient-bg {
    @apply text-[#BAE5E5] border-none;
    @apply [background:linear-gradient(to_bottom,_#fde047_0%,_#FB6835_60%,_#FB5255_100%)];
    @apply [text-shadow:-1px_-1px_0_#FB5255,1px_-1px_0_#FB5255,-1px_1px_0_#FB5255,1px_1px_0_#FB6835];
    @apply transition-transform duration-300 ease-in-out;
  }
  .gradient-bg:hover { @apply scale-105; }

  /* Bouton profil */
  .profile-btn {
    @apply w-72 /* 18rem */ px-4 py-2 rounded-md text-black
           transition-colors duration-300 ease-in-out
           font-starjedi;
  }

  /* Container intro façon Star Wars */
  .star-wars-intro {
    @apply w-full h-full flex justify-center items-center overflow-hidden;
    @apply [perspective:400px];
  }

  /* Le “crawl” (texte qui s’éloigne) */
  .crawl {
    @apply font-starjedi max-w-[600px] mx-auto text-justify
           [transform-origin:50%_100%]
           animate-crawl;
    /* état initial similaire au keyframe 0% pour cohérence visuelle au load */
    @apply [transform:rotateX(40deg)_translateZ(100%)];
  }

  /* Language selector */
  #languageSelector {
    @apply w-auto min-w-0;
  }
}

/* ---- Responsive (on garde les media queries mais avec des utilitaires) ---- */
@media (max-width: 640px) {
  h1 { @apply text-4xl leading-[1.2]; }

  .profile-btn { 
    @apply w-auto text-xs py-[0.4rem] px-[0.8rem];
  }

  #languageSelector {
    @apply text-xs py-[0.3rem] px-[0.6rem];
  }

  .crawl {
    @apply max-w-[90%] text-xs;
  }
}

@media (max-width: 400px) {
  h1 { @apply text-2xl; }
  .profile-btn,
  #languageSelector {
    @apply text-[0.65rem] py-[0.25rem] px-[0.5rem];
  }
}
