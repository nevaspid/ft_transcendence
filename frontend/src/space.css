@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- Composants ---------- */
@layer components {
  .btn {
    @apply flex justify-center items-center w-44 /* 11rem */
           py-3 px-2 overflow-hidden h-auto
           rounded-full border-2 border-cyan-500
           font-starjhol text-white
           shadow-[0_0_12px_4px_rgba(0,255,255,0.6)]
           transition-transform duration-300 ease-in-out
           backdrop-blur-[1rem]
           [background-size:300%_300%]
           [background-origin:border-box]
           [background-clip:content-box,_border-box]
           /* animation gradient */
           [animation:gradient_301_5s_ease_infinite];
  }

  .btn:hover {
    @apply scale-110;
  }

  .btn:active {
    @apply [border:double_4px_#631e29]
           [background-origin:border-box]
           [background-clip:content-box,_border-box]
           [animation:none];
  }

  .btn:active .circle {
    @apply [background:#631e29];
  }

  .neon-glow {
    @apply border-[3px] border-cyan-500
           shadow-[0_0_12px_4px_rgba(0,255,255,0.6)]
           transition-all duration-300 ease-in-out
           animate-neonGlow;
  }

  /* Bonus : utilise aussi les alias pour les autres anims */
  .circle-container   { @apply animate-orbit5; }
  .circle:nth-of-type(1) { @apply animate-orbit8; }
  .circle:nth-of-type(2) { @apply animate-orbit10; }

  #container-stars {
    @apply absolute z-[-1] w-full h-full overflow-hidden
           transition duration-500
           backdrop-blur-[1rem] rounded-none;
  }

  .btn:hover #container-stars {
    @apply z-[1] bg-[#161a25];
  }

  strong {
    @apply z-[2] font-starjedi text-white text-[16px];
  }

  #glow {
    @apply absolute flex w-48; /* 12rem */
  }

  .circle-container {
    @apply relative w-full h-full
           /* orbite de base 5s */
           [animation:orbit_5s_linear_infinite];
  }

  .circle {
    @apply absolute w-[30px] h-[30px] rounded-full
           [filter:blur(2rem)];
  }

  .circle:nth-of-type(1) {
    @apply [background:rgba(0,204,255,0.6)]
           [animation:orbit_8s_linear_infinite];
  }

  .circle:nth-of-type(2) {
    @apply [background:rgba(0,80,130,0.6)]
           [animation:orbit_10s_linear_infinite];
  }

  #stars {
    @apply relative bg-transparent w-[200rem] h-[200rem];
  }
}

/* ---------- Pseudo-éléments (nécessitent du CSS pur) ---------- */
#stars::after {
  content: "";
  position: absolute;
  top: -10rem;
  left: -100rem;
  width: 100%;
  height: 100%;
  animation: animStarRotate 90s linear infinite;
  background-image: radial-gradient(#ffffff 1px, transparent 1%);
  background-size: 50px 50px;
}

#stars::before {
  content: "";
  position: absolute;
  top: 0;
  left: -50%;
  width: 170%;
  height: 500%;
  animation: animStar 60s linear infinite;
  background-image: radial-gradient(#ffffff 1px, transparent 1%);
  background-size: 50px 50px;
  opacity: 0.5;
}

/* ---------- Responsive en @apply (max-width) ---------- */
@media (max-width: 640px) {
  .btn {
    @apply w-auto py-2 px-3 text-sm; /* 0.5rem 0.8rem ≈ py-2 px-3 */
  }
  #glow {
    @apply w-36; /* 9rem */
  }
}

@media (max-width: 400px) {
  .btn {
    @apply text-xs py-[0.4rem] px-[0.6rem];
  }
  #glow {
    @apply w-28; /* 7rem */
  }
}

/* ---------- Fallback: noms d'animations (au cas où arbitraire désactivé) ---------- */
/* (La config ci-dessus définit les keyframes; ci-dessous on ne fait que lier les noms) */
@layer utilities {
  .animate-neonGlow      { animation: neonGlow 3s linear infinite; }
  .animate-orbit-5s      { animation: orbit 5s linear infinite; }
  .animate-orbit-8s      { animation: orbit 8s linear infinite; }
  .animate-orbit-10s     { animation: orbit 10s linear infinite; }
  .animate-animStar      { animation: animStar 60s linear infinite; }
  .animate-animStarRotate{ animation: animStarRotate 90s linear infinite; }
  .animate-gradient-301  { animation: gradient_301 5s ease infinite; }
  .animate-pulse-3011    { animation: pulse_3011 3s ease infinite; }
}

@keyframes animStar {
  from { transform: translateY(0); }
  to   { transform: translateY(-135rem); }
}
@keyframes animStarRotate {
  from { transform: rotate(360deg); }
  to   { transform: rotate(0); }
}
